# n8n-nodes-random

n8n ‚Äì Custom Node Random

Este reposit√≥rio cont√©m:

Infraestrutura Docker para rodar o n8n (self-hosted) com banco PostgreSQL.

Um conector personalizado (custom node) chamado Random, que consome a API do Random.org
 para gerar um n√∫mero inteiro aleat√≥rio entre valores m√≠nimo e m√°ximo (inclusive).

üöÄ Pr√©-requisitos

Docker
 e Docker Compose
 instalados

Node.js 22 LTS
 + npm (necess√°rio para compilar o custom node)

Git para clonar o reposit√≥rio

üõ† Instala√ß√£o das depend√™ncias

Clone o reposit√≥rio:

git clone https://github.com/<seu-usuario>/<seu-repositorio>.git
cd <seu-repositorio>


Instale e compile o custom node:

npm install n8n -g
npm install
npm run build

‚öôÔ∏è Configura√ß√£o do ambiente

Crie um arquivo .env na raiz (pode usar o exemplo abaixo):

# Configura√ß√£o do banco Postgres
DB_POSTGRESDB_DATABASE=n8n
DB_POSTGRESDB_USER=n8n
DB_POSTGRESDB_PASSWORD=n8n

# n8n
N8N_HOST=localhost
N8N_PORT=5678
N8N_PROTOCOL=http


Ajuste os valores se necess√°rio.

‚ñ∂Ô∏è Executar o servi√ßo localmente (Docker)

Na raiz do reposit√≥rio:

docker compose up -d


O n8n estar√° dispon√≠vel em: http://localhost:5678

üß© Utilizando o custom node Random

Acesse a interface web do n8n.

Crie um novo workflow.

Adicione o node Random.

Selecione a opera√ß√£o True Random Number Generator.

Preencha os par√¢metros:

Min: inteiro m√≠nimo (inclusive).

Max: inteiro m√°ximo (inclusive).

Clique em Execute Node.

Exemplo de sa√≠da JSON:

{
  "value": 37,
  "min": 1,
  "max": 60,
  "source": "random.org",
  "url": "https://www.random.org/integers/?num=1&min=1&max=60&col=1&base=10&format=plain&rnd=new",
  "timestamp": "2025-09-20T10:00:00.000Z"
}

üß™ Executar os testes

Este projeto n√£o inclui testes automatizados por padr√£o.
Sugest√£o: criar testes unit√°rios (ex.: com Jest) para validar:

Valida√ß√£o de par√¢metros (min, max).

Integra√ß√£o com a API do Random.org (mock).

üí° Informa√ß√µes adicionais

Carregamento de custom nodes: O diret√≥rio custom/ √© montado no container em /home/node/.n8n/custom e o n8n carrega automaticamente qualquer pacote que exponha n√≥s em package.json ‚Üí n8n.nodes.

Altera√ß√µes no node: sempre execute npm run build no pacote antes de reiniciar o container.

Para reiniciar apenas o n8n:

docker compose restart n8n


Caso n√£o veja o node na interface, verifique os logs:

docker compose logs -f n8n
